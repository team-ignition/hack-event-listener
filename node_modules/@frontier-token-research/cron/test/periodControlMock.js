/* global contract it assert web3 artifacts describe before beforeEach  */


const PeriodContract = artifacts.require('PeriodControlMock')
let PeriodInstance
const T = 1

contract('Daily Period', function (accounts) {
  beforeEach(async () => {
    PeriodInstance = await PeriodContract.new(T)
  })
  describe('Calculating Height', async () => {
    it('Should start having a height of 0', async () => {
      const height = await PeriodInstance.height()
      assert.strictEqual(0, height.toNumber())
    })
    
	it('Should increase the height by 1', async () => {
      const initHeight = await PeriodInstance.height()
	  await PeriodInstance.mock_next()
	  const finalHeight = await PeriodInstance.height()
      assert.strictEqual(finalHeight, parseInt(initHeight + 1))
    }) 
  })
})
